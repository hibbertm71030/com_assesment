

# imports

import math



# shape checker
def shape_checker(question):
    valid = False
    while not valid:

        response = input(question).lower()

        if response in list_of_shapes:
            return response

        else:
            for item in list_of_shapes:
                if response == item[0]:
                    return item

        print("please use one of the following: rectangle, square, circle, parallelogram ")



# number only function
def number_only(question):
    error = "please use a number"

    valid = False
    while not valid:
        response = input(question)

        for letter in response:

            if letter.isdigit():
                return response

            elif not letter.isdigit():
                print(error)
                break



# end code function


def end_code(question):

    valid = False
    while not valid:
        error = "please enter yes or no"
        response = input(question)

        if response == "yes":
            calculation_list.append(calculation)
            print()
            return response

        elif response == "no":
            calculation_list.append(calculation)
            print("")
            print("")
            print("CALCULATION HISTORY:")
            print("")
            for thiscalc in calculation_list:
                print(thiscalc, sep='\n')

            break

        elif response != "yes" or "no":
            print(error)
            continue






# string checker 2
def string_checker2(question):
    valid = False
    acceptable_answers = ["yes", "no"]
    while not valid:

        response = input(question).lower()

        if response in acceptable_answers:
            return response

        else:
            for item in acceptable_answers:
                # checks if response is the first letter of an item in the list
                if response == item[0]:
                    continue

        if response not in acceptable_answers:
            print("please enter yes or no")

        elif response == "yes":
            calculation_list.append(calculation)
            print()
            return response

        elif response == "no":
            calculation_list.append(calculation)
            print("")
            print("")
            print("CALCULATION HISTORY:")
            print("")
            for thiscalc in calculation_list:
                print(thiscalc, sep='\n')

            break

        elif response != "yes" or "no":
            print(error)
            continue







# area or perimeter checker
def string_checker3(question):
    valid = False
    acceptable_answers = ["area", "perimeter", "both"]
    while not valid:

        response = input(question).lower()

        if response in acceptable_answers:
            return response

        else:
            for item in acceptable_answers:
                # checks if response is the first letter of an item in the list
                if response == item[0]:
                    # note: returns the entire response rather than just the first letter
                    return item

        print("Please enter either area or perimeter.")






# list of shapes

list_of_shapes = ["rectangle", "square", "circle", "parallelogram"]

# calculation lists
calculation_list = []
calculation = []

# main routine
cont = "yes"
# Loops while program
while cont == "yes":
    # Resets the `current_calculation` variable
    calculation = []


    # ask user for shape
    shape = shape_checker("What shape do you want to calculate for? ")

    # ask user for dimensions
    if shape == "rectangle":
        base = number_only("what is the base? (please use same units for base and height) ")
        height = number_only("what is the height? (please use same units for base and height) ")
        # calculate area and perimeter
        area = "area = {:.2f}".format(float(base) * float(height))
        perimeter = "perimeter = {:.2f}".format(float(base) + float(base) + float(height) + float(height))
        # add to calculation list
        answer = area, perimeter
        calculation.append(shape)
        calculation.append(answer)
        print(calculation)
        print()

    elif shape == "square":
        length = number_only("what is the length of the a side? ")
        area = "area = {:.2f} ".format(float(length) * float(length))
        perimeter = "perimeter = {:.2f} ".format(float(length) * 4)
        answer = area, perimeter
        calculation.append(shape)
        calculation.append(answer)
        print(calculation)
        print()

    elif shape == "circle":
        radius = number_only("what is the radius? ")
        area = "area = {:.2f}".format(float(radius) * float(radius) * (math.pi))
        perimeter = "perimeter = {:.2f}".format(float(radius) * 2 * (math.pi))
        answer = area, perimeter
        calculation.append(shape)
        calculation.append(answer)
        print(calculation)
        print()

    elif shape == "parallelogram".lower():
        ans = area_or_perimeter and string_checker3("Do you want to calculate for area or perimeter or both? ")
        if ans == "area":
            base = number_only("what is the base? (please use same units for base and height) ")
            height = number_only("what is the height? (please use same units for base and height) ")
            answer = "area = {:.2f}".format(float(height) * float(base))
            calculation.append(shape)
            calculation.append(answer)
            print(calculation)
            print()
        elif ans == "perimeter".lower():
            base = number_only("what is the base? (please use same units for base and height) ")
            side = number_only("what is the side length? (please use same units for base and side) ")
            answer = "perimeter = {:.2f}".format(float(base) + float(base) + float(side) + float(side))
            calculation.append(shape)
            calculation.append(answer)
            print(calculation)
            print()
        elif ans == "both".lower():
            base = number_only("what is the base? (please use same units for base and height) ")
            side = number_only("what is the side length? (please use same units for base and side) ")
            height = number_only("what is the height? (please use same units for base and height) ")
            area = "area = {:.2f}".format(float(height) * float(base))
            perimeter = "perimeter = {:.2f}".format(float(base) + float(base) + float(side) + float(side))
            answer = area, perimeter
            calculation.append(shape)
            calculation.append(answer)
            print(calculation)
            print()


    cont = string_checker2("Would you like to calculate for another shape? (type yes or no) ")




